@inherits GoldExComponentBase

<MudTable T="ProductVm" MultiSelection="true" Hover="true" @ref="_table" Dense="true" ServerData="LoadProductsAsync">
    <HeaderContent>
        <MudTh><MudTableSortLabel SortLabel="Barcode" T="string">بارکد</MudTableSortLabel></MudTh>
        <MudTh><MudTableSortLabel SortLabel="ProductType" T="string">نوع کالا</MudTableSortLabel></MudTh>
        <MudTh><MudTableSortLabel SortLabel="Name" T="string">عنوان</MudTableSortLabel></MudTh>
        <MudTh><MudTableSortLabel SortLabel="Weight" T="string">وزن</MudTableSortLabel></MudTh>
        <MudTh><MudTableSortLabel SortLabel="Wage" T="string">اجرت ساخت</MudTableSortLabel></MudTh>
        <MudTh><MudTableSortLabel SortLabel="Carat" T="string">عیار</MudTableSortLabel></MudTh>
        <MudTh>عملیات</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="بارکد">@context.Barcode</MudTd>
        <MudTd DataLabel="نوع کالا">@context.ProductType.GetDisplayName()</MudTd>
        <MudTd DataLabel="عنوان">@context.Name</MudTd>
        <MudTd DataLabel="وزن">@(context.Weight + " گرم")</MudTd>
        <MudTd DataLabel="اجرت">@(context.WageType.HasValue ? $"{context.Wage} {context.WageType.GetDisplayName()}" : "ندارد")</MudTd>
        <MudTd DataLabel="عیار">@context.CaratType.GetDisplayName()</MudTd>
        <MudTd DataLabel="عملیات">
            <MudTooltip Text="چاپ بارکد">
                <MudIconButton Size="@Size.Small" Variant="@Variant.Filled" Icon="@Icons.Material.Filled.Print"
                               Color="@Color.Primary"></MudIconButton>
            </MudTooltip>
            <MudTooltip Text="حذف جنس">
                <MudIconButton OnClick="@(_ => OnRemoveProduct(context))" ClickPropagation="true"
                               Size="@Size.Small" Variant="@Variant.Filled" Icon="@Icons.Material.Filled.Delete" Color="@Color.Error"></MudIconButton>
            </MudTooltip>
            <MudTooltip Text="ویرایش جنس">
                <MudIconButton Icon="@Icons.Material.Filled.Edit" Size="Size.Small" Variant="Variant.Filled"
                               Color="Color.Primary" OnClick="_ => OnEditProduct(context)"></MudIconButton>
            </MudTooltip>
        </MudTd>
    </RowTemplate>
    <NoRecordsContent>
        <MudText>هیچ جنسی یافت نشد</MudText>
    </NoRecordsContent>
    <LoadingContent>
        <MudText>در حال بارگذاری</MudText>
    </LoadingContent>
</MudTable>
